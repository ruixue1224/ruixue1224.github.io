<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>docker学习笔记 | 瑞雪のblog</title><meta name="author" content="瑞雪"><meta name="copyright" content="瑞雪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="docker学习笔记docker安装（基于Ubuntu24.04.2LTS）如果由于网络环境问题无法使用 Docker 官方的 GPG 密钥，可以考虑使用国内的镜像站（如轩辕镜像）来替代。以下是基于轩辕镜像的 Docker 配置方法，适用于在国内无法访问外网的网络环境。 使用轩辕镜像配置 Docker1. 更新软件包并安装必要软件首先，更新软件包索引并安装必要的软件包： 12sudo apt up">
<meta property="og:type" content="article">
<meta property="og:title" content="docker学习笔记">
<meta property="og:url" content="https://ruixue1224.github.io/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/index.html">
<meta property="og:site_name" content="瑞雪のblog">
<meta property="og:description" content="docker学习笔记docker安装（基于Ubuntu24.04.2LTS）如果由于网络环境问题无法使用 Docker 官方的 GPG 密钥，可以考虑使用国内的镜像站（如轩辕镜像）来替代。以下是基于轩辕镜像的 Docker 配置方法，适用于在国内无法访问外网的网络环境。 使用轩辕镜像配置 Docker1. 更新软件包并安装必要软件首先，更新软件包索引并安装必要的软件包： 12sudo apt up">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ruixue1224.github.io/img/archive_bg.jpg">
<meta property="article:published_time" content="2025-08-05T10:21:00.000Z">
<meta property="article:modified_time" content="2026-01-05T14:10:31.699Z">
<meta property="article:author" content="瑞雪">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ruixue1224.github.io/img/archive_bg.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "docker学习笔记",
  "url": "https://ruixue1224.github.io/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/",
  "image": "https://ruixue1224.github.io/img/archive_bg.jpg",
  "datePublished": "2025-08-05T10:21:00.000Z",
  "dateModified": "2026-01-05T14:10:31.699Z",
  "author": [
    {
      "@type": "Person",
      "name": "瑞雪",
      "url": "https://ruixue1224.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ruixue1224.github.io/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'docker学习笔记',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/day-night-transition.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/video-background.css"><link rel="stylesheet" href="/css/header-background-fix.css"><link rel="preload" as="image" href="/img/category_img%20.png"><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-window-maximize"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-coffee"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/travel/"><i class="fa-fw fas fa-map-marker-alt"></i><span> 旅迹</span></a></li><li><a class="site-page child" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于作者</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly"><i class="fa-fw fab fa-github"></i><span> GitHub</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/archive_bg.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/leaf.png" alt="Logo"><span class="site-name">瑞雪のblog</span></a><a class="nav-page-title" href="/"><span class="site-name">docker学习笔记</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-window-maximize"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-coffee"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/travel/"><i class="fa-fw fas fa-map-marker-alt"></i><span> 旅迹</span></a></li><li><a class="site-page child" href="/essay/"><i class="fa-fw fas fa-comment-dots"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于作者</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly"><i class="fa-fw fab fa-github"></i><span> GitHub</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">docker学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-05T10:21:00.000Z" title="发表于 2025-08-05 18:21:00">2025-08-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-05T14:10:31.699Z" title="更新于 2026-01-05 22:10:31">2026-01-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="docker学习笔记"><a href="#docker学习笔记" class="headerlink" title="docker学习笔记"></a>docker学习笔记</h1><h2 id="docker安装（基于Ubuntu24-04-2LTS）"><a href="#docker安装（基于Ubuntu24-04-2LTS）" class="headerlink" title="docker安装（基于Ubuntu24.04.2LTS）"></a>docker安装（基于Ubuntu24.04.2LTS）</h2><p>如果由于网络环境问题无法使用 Docker 官方的 GPG 密钥，可以考虑使用国内的镜像站（如轩辕镜像）来替代。以下是基于轩辕镜像的 Docker 配置方法，适用于在国内无法访问外网的网络环境。</p>
<h3 id="使用轩辕镜像配置-Docker"><a href="#使用轩辕镜像配置-Docker" class="headerlink" title="使用轩辕镜像配置 Docker"></a>使用轩辕镜像配置 Docker</h3><h4 id="1-更新软件包并安装必要软件"><a href="#1-更新软件包并安装必要软件" class="headerlink" title="1. 更新软件包并安装必要软件"></a>1. <strong>更新软件包并安装必要软件</strong></h4><p>首先，更新软件包索引并安装必要的软件包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install apt-transport-https curl</span><br></pre></td></tr></table></figure>

<h4 id="2-导入轩辕镜像的-GPG-密钥"><a href="#2-导入轩辕镜像的-GPG-密钥" class="headerlink" title="2. 导入轩辕镜像的 GPG 密钥"></a>2. <strong>导入轩辕镜像的 GPG 密钥</strong></h4><p>由于无法使用 Docker 官方的 GPG 密钥，可以使用轩辕镜像提供的 GPG 密钥。运行以下命令导入：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://docker.xuanyuan.me/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>


<h4 id="3-添加轩辕镜像的-Docker-仓库"><a href="#3-添加轩辕镜像的-Docker-仓库" class="headerlink" title="3. 添加轩辕镜像的 Docker 仓库"></a>3. <strong>添加轩辕镜像的 Docker 仓库</strong></h4><p>   执行以下命令，将轩辕镜像仓库（<code>https://docker.xuanyuan.me</code>）写入系统软件源配置文件，替代默认的外网仓库：  </p>
   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://docker.xuanyuan.me/linux/ubuntu $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure>

<h4 id="4-更新软件包列表"><a href="#4-更新软件包列表" class="headerlink" title="4. 更新软件包列表"></a>4. <strong>更新软件包列表</strong></h4><p>刷新软件包列表，以便系统识别新添加的仓库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<h4 id="5-安装-Docker"><a href="#5-安装-Docker" class="headerlink" title="5. 安装 Docker"></a>5. <strong>安装 Docker</strong></h4><p>安装 Docker 及其相关组件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<h4 id="6-配置-Docker-使用轩辕镜像加速"><a href="#6-配置-Docker-使用轩辕镜像加速" class="headerlink" title="6. 配置 Docker 使用轩辕镜像加速"></a>6. <strong>配置 Docker 使用轩辕镜像加速</strong></h4><p>编辑 Docker 的配置文件 <code>/etc/docker/daemon.json</code>，添加或修改 <code>registry-mirrors</code> 以使用轩辕镜像加速服务：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>

<p>在文件中添加以下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://docker.xuanyuan.me&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>



<p>也可以配置多个镜像加速器地址,docker 拉取镜像时会逐个尝试拉取</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">    &quot;https://docker.1ms.run&quot;,       </span><br><span class="line">    &quot;https://docker.xuanyuan.me&quot;,     </span><br><span class="line">    &quot;https://docker.m.daocloud.io&quot;,    </span><br><span class="line">    &quot;swr.cn-east-2.myhuaweicloud.com/library&quot;,   </span><br><span class="line">    &quot;docker.io/library/&quot;                             </span><br><span class="line"></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="7-重启-Docker-服务"><a href="#7-重启-Docker-服务" class="headerlink" title="7. 重启 Docker 服务"></a>7. <strong>重启 Docker 服务</strong></h4><p>保存配置文件后，重启 Docker 服务以应用更改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>

<h4 id="8-验证配置"><a href="#8-验证配置" class="headerlink" title="8. 验证配置"></a>8. <strong>验证配置</strong></h4><p>运行以下命令验证 Docker 是否正常工作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure>

<p>如果一切正常，你会看到一条欢迎信息，说明 Docker 已成功安装并配置。</p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li><p><strong>镜像加速</strong>：轩辕镜像提供了国内加速服务，可以有效提高镜像拉取速度。</p>
</li>
<li><p><strong>版本支持</strong>：轩辕镜像支持多种常见的 Docker 镜像源，包括 Docker Hub、Google Container Registry 等。</p>
</li>
<li><p><strong>免费与专业版</strong>：轩辕镜像提供免费版和专业版服务。免费版适用于普通用户，专业版提供更稳定的服务和更多功能支持。</p>
</li>
<li><p><strong>非 root 用户运行 Docker 命令</strong></p>
<blockquote>
<p>默认情况下，只有 root 用户或具有 sudo 权限的用户才能够执行 Docker 命令。如果不加<code>sudo</code>前缀直接运行<code>docker</code>命令，系统会报权限错误。</p>
<p>可以运行以下命令将当前登录的用户添加到 docker 组，以便以非 root 用户身份运行 Docker 命令：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker $&#123;USER&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在这条命令中，<code>$&#123;USER&#125;</code>是一个环境变量，表示当前登录的用户名。执行完这条命令后，需要重启 Ubuntu 系统。重启之后，就可以不需要加<code>sudo</code>前缀来执行 <code>docker</code> 命令了。</p>
</blockquote>
</li>
</ol>
<h3 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h3><ul>
<li><a target="_blank" rel="noopener" href="https://docker.xuanyuan.me/">轩辕镜像官网</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/">Docker 官方文档</a></li>
</ul>
<p>通过上述步骤，你可以在国内网络环境下顺利安装并配置 Docker，同时使用轩辕镜像加速服务来提高镜像拉取速度。</p>
<h2 id="docker基本命令"><a href="#docker基本命令" class="headerlink" title="docker基本命令"></a>docker基本命令</h2><h3 id="docker常用命令"><a href="#docker常用命令" class="headerlink" title="docker常用命令"></a>docker常用命令</h3><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker -v                <span class="comment">#查看docker版本信息</span></span><br><span class="line">docker info              <span class="comment">#查看docker具体信息（内核、镜像站、镜像）  </span></span><br><span class="line">docker images            <span class="comment">#列出本地所有镜像的命令。     </span></span><br><span class="line">docker ps                <span class="comment">#列出所有正在运行的镜像的命令</span></span><br><span class="line"></span><br><span class="line">docker rmi -f 容器ID     <span class="comment">#删除指定的容器</span></span><br><span class="line">docker rmi -f 容器ID1 容器ID2 容器ID3      <span class="comment">#删除多个指定的容器</span></span><br><span class="line">docker rmi -f $(docker images -ap)        <span class="comment">#删除全部容器</span></span><br></pre></td></tr></table></figure>

<p><strong>容器命令：(有了镜像才可以创建容器，下载一个centOS来做测试)</strong></p>
<figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos:<span class="number">7</span></span><br><span class="line">新建容器并启动</span><br><span class="line">docker <span class="keyword">run</span><span class="language-bash"> [可选参数] image </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#参数说明</span></span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250804173647560.png" alt="image-20250804173647560"></p>
<p><strong>列出所有运行的容器</strong></p>
<p><img src="/./assets/image-20250804184927337.png" alt="image-20250804184927337"></p>
<p><img src="/./assets/image-20250804185822170.png" alt="image-20250804185822170"></p>
<h3 id="常用其他命令"><a href="#常用其他命令" class="headerlink" title="常用其他命令"></a>常用其他命令</h3><p><img src="/./assets/image-20250805112302698.png" alt="image-20250805112302698"></p>
<p><img src="/./assets/image-20250806180302521.png" alt="image-20250806180302521"></p>
<p><strong>查看镜像中的容器数据</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令</span></span><br><span class="line">docker inspect 容器ID</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">测试过程</span></span><br><span class="line">orion@orion-24:~$ docker run -d centos:7 /bin/sh -c &quot;while true;do echo ruixue1224;sleep 1;done&quot;</span><br><span class="line">9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573</span><br><span class="line">orion@orion-24:~$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE      COMMAND                   CREATED         STATUS         PORTS     NAMES</span><br><span class="line">9abcecba9b22   centos:7   &quot;/bin/sh -c &#x27;while t…&quot;   6 seconds ago   Up 5 seconds             agitated_moore</span><br><span class="line">orion@orion-24:~$ docker top 9abcecba9b22 </span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class="line">root                4574                4552                0                   18:05               ?                   00:00:00            /bin/sh -c while true;do echo ruixue1224;sleep 1;done</span><br><span class="line">root                4656                4574                0                   18:05               ?                   00:00:00            sleep 1</span><br><span class="line">orion@orion-24:~$ docker inspect 9abcecba9b22</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2025-08-06T10:05:31.864739276Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;/bin/sh&quot;,</span><br><span class="line">        &quot;Args&quot;: [</span><br><span class="line">            &quot;-c&quot;,</span><br><span class="line">            &quot;while true;do echo ruixue1224;sleep 1;done&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">            &quot;Running&quot;: true,</span><br><span class="line">            &quot;Paused&quot;: false,</span><br><span class="line">            &quot;Restarting&quot;: false,</span><br><span class="line">            &quot;OOMKilled&quot;: false,</span><br><span class="line">            &quot;Dead&quot;: false,</span><br><span class="line">            &quot;Pid&quot;: 4574,</span><br><span class="line">            &quot;ExitCode&quot;: 0,</span><br><span class="line">            &quot;Error&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StartedAt&quot;: &quot;2025-08-06T10:05:31.926379177Z&quot;,</span><br><span class="line">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Image&quot;: &quot;sha256:eeb6ee3f44bd0b5103bb561b4c16bcb82328cfe5809ab675bb17ab3a16c517c9&quot;,</span><br><span class="line">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573/resolv.conf&quot;,</span><br><span class="line">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573/hostname&quot;,</span><br><span class="line">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573/hosts&quot;,</span><br><span class="line">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573/9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573-json.log&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;/agitated_moore&quot;,</span><br><span class="line">        &quot;RestartCount&quot;: 0,</span><br><span class="line">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class="line">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;AppArmorProfile&quot;: &quot;docker-default&quot;,</span><br><span class="line">        &quot;ExecIDs&quot;: null,</span><br><span class="line">        &quot;HostConfig&quot;: &#123;</span><br><span class="line">            &quot;Binds&quot;: null,</span><br><span class="line">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LogConfig&quot;: &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class="line">                &quot;Config&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;NetworkMode&quot;: &quot;bridge&quot;,</span><br><span class="line">            &quot;PortBindings&quot;: &#123;&#125;,</span><br><span class="line">            &quot;RestartPolicy&quot;: &#123;</span><br><span class="line">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class="line">                &quot;MaximumRetryCount&quot;: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;AutoRemove&quot;: false,</span><br><span class="line">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class="line">            &quot;VolumesFrom&quot;: null,</span><br><span class="line">            &quot;ConsoleSize&quot;: [</span><br><span class="line">                24,</span><br><span class="line">                80</span><br><span class="line">            ],</span><br><span class="line">            &quot;CapAdd&quot;: null,</span><br><span class="line">            &quot;CapDrop&quot;: null,</span><br><span class="line">            &quot;CgroupnsMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Dns&quot;: [],</span><br><span class="line">            &quot;DnsOptions&quot;: [],</span><br><span class="line">            &quot;DnsSearch&quot;: [],</span><br><span class="line">            &quot;ExtraHosts&quot;: null,</span><br><span class="line">            &quot;GroupAdd&quot;: null,</span><br><span class="line">            &quot;IpcMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Links&quot;: null,</span><br><span class="line">            &quot;OomScoreAdj&quot;: 0,</span><br><span class="line">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Privileged&quot;: false,</span><br><span class="line">            &quot;PublishAllPorts&quot;: false,</span><br><span class="line">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class="line">            &quot;SecurityOpt&quot;: null,</span><br><span class="line">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;ShmSize&quot;: 67108864,</span><br><span class="line">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class="line">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpuShares&quot;: 0,</span><br><span class="line">            &quot;Memory&quot;: 0,</span><br><span class="line">            &quot;NanoCpus&quot;: 0,</span><br><span class="line">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class="line">            &quot;BlkioWeight&quot;: 0,</span><br><span class="line">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadBps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceWriteBps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadIOps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceWriteIOps&quot;: [],</span><br><span class="line">            &quot;CpuPeriod&quot;: 0,</span><br><span class="line">            &quot;CpuQuota&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class="line">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Devices&quot;: [],</span><br><span class="line">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class="line">            &quot;DeviceRequests&quot;: null,</span><br><span class="line">            &quot;MemoryReservation&quot;: 0,</span><br><span class="line">            &quot;MemorySwap&quot;: 0,</span><br><span class="line">            &quot;MemorySwappiness&quot;: null,</span><br><span class="line">            &quot;OomKillDisable&quot;: null,</span><br><span class="line">            &quot;PidsLimit&quot;: null,</span><br><span class="line">            &quot;Ulimits&quot;: [],</span><br><span class="line">            &quot;CpuCount&quot;: 0,</span><br><span class="line">            &quot;CpuPercent&quot;: 0,</span><br><span class="line">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class="line">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class="line">            &quot;MaskedPaths&quot;: [</span><br><span class="line">                &quot;/proc/asound&quot;,</span><br><span class="line">                &quot;/proc/acpi&quot;,</span><br><span class="line">                &quot;/proc/interrupts&quot;,</span><br><span class="line">                &quot;/proc/kcore&quot;,</span><br><span class="line">                &quot;/proc/keys&quot;,</span><br><span class="line">                &quot;/proc/latency_stats&quot;,</span><br><span class="line">                &quot;/proc/timer_list&quot;,</span><br><span class="line">                &quot;/proc/timer_stats&quot;,</span><br><span class="line">                &quot;/proc/sched_debug&quot;,</span><br><span class="line">                &quot;/proc/scsi&quot;,</span><br><span class="line">                &quot;/sys/firmware&quot;,</span><br><span class="line">                &quot;/sys/devices/virtual/powercap&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ReadonlyPaths&quot;: [</span><br><span class="line">                &quot;/proc/bus&quot;,</span><br><span class="line">                &quot;/proc/fs&quot;,</span><br><span class="line">                &quot;/proc/irq&quot;,</span><br><span class="line">                &quot;/proc/sys&quot;,</span><br><span class="line">                &quot;/proc/sysrq-trigger&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;ID&quot;: &quot;9abcecba9b22505538a0b297548a90c2ddd005752b534f22b7c34c39e87b9573&quot;,</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/0a7b72b9156c34acf413c5558bd167941c36de304388e606866db48ecbc7a85f-init/diff:/var/lib/docker/overlay2/2866613b04610210f4ec2de3860dd766237f60ea23574d8661bd1837792af793/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/0a7b72b9156c34acf413c5558bd167941c36de304388e606866db48ecbc7a85f/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/0a7b72b9156c34acf413c5558bd167941c36de304388e606866db48ecbc7a85f/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/0a7b72b9156c34acf413c5558bd167941c36de304388e606866db48ecbc7a85f/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Mounts&quot;: [],</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;9abcecba9b22&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: false,</span><br><span class="line">            &quot;AttachStdout&quot;: false,</span><br><span class="line">            &quot;AttachStderr&quot;: false,</span><br><span class="line">            &quot;Tty&quot;: false,</span><br><span class="line">            &quot;OpenStdin&quot;: false,</span><br><span class="line">            &quot;StdinOnce&quot;: false,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;/bin/sh&quot;,</span><br><span class="line">                &quot;-c&quot;,</span><br><span class="line">                &quot;while true;do echo ruixue1224;sleep 1;done&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;centos:7&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: &#123;</span><br><span class="line">                &quot;org.label-schema.build-date&quot;: &quot;20201113&quot;,</span><br><span class="line">                &quot;org.label-schema.license&quot;: &quot;GPLv2&quot;,</span><br><span class="line">                &quot;org.label-schema.name&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.label-schema.schema-version&quot;: &quot;1.0&quot;,</span><br><span class="line">                &quot;org.label-schema.vendor&quot;: &quot;CentOS&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.created&quot;: &quot;2020-11-13 00:00:00+00:00&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.licenses&quot;: &quot;GPL-2.0-only&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.title&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.vendor&quot;: &quot;CentOS&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;NetworkSettings&quot;: &#123;</span><br><span class="line">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class="line">            &quot;SandboxID&quot;: &quot;5c130491016f9f279f0c009a331da259cea8c50b24fb0d4529a995ecbfa498ab&quot;,</span><br><span class="line">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/5c130491016f&quot;,</span><br><span class="line">            &quot;Ports&quot;: &#123;&#125;,</span><br><span class="line">            &quot;HairpinMode&quot;: false,</span><br><span class="line">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class="line">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class="line">            &quot;EndpointID&quot;: &quot;659c2767dd71a7faffb513e8d71d38a73059eb8523a34809558e00e1e714f3f2&quot;,</span><br><span class="line">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">            &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">            &quot;MacAddress&quot;: &quot;b6:e9:9b:3d:bd:b4&quot;,</span><br><span class="line">            &quot;Networks&quot;: &#123;</span><br><span class="line">                &quot;bridge&quot;: &#123;</span><br><span class="line">                    &quot;IPAMConfig&quot;: null,</span><br><span class="line">                    &quot;Links&quot;: null,</span><br><span class="line">                    &quot;Aliases&quot;: null,</span><br><span class="line">                    &quot;MacAddress&quot;: &quot;b6:e9:9b:3d:bd:b4&quot;,</span><br><span class="line">                    &quot;DriverOpts&quot;: null,</span><br><span class="line">                    &quot;GwPriority&quot;: 0,</span><br><span class="line">                    &quot;NetworkID&quot;: &quot;917297a26e132cd762f0b4aa1f5112d0a931226f8fb491572dd5821eedde2569&quot;,</span><br><span class="line">                    &quot;EndpointID&quot;: &quot;659c2767dd71a7faffb513e8d71d38a73059eb8523a34809558e00e1e714f3f2&quot;,</span><br><span class="line">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">                    &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">                    &quot;DNSNames&quot;: null</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>进入当前正在运行的容器</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">我们通常容器都是使用后台方式运行的，需要进入容器，修改一些配置</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令</span></span><br><span class="line">docker exec -it 容器ID  /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">测试</span></span><br><span class="line">orion@orion-24:~$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE      COMMAND                   CREATED          STATUS          PORTS     NAMES</span><br><span class="line">f3103fd9e049   centos:7   &quot;/bin/sh -c &#x27;while t…&quot;   16 seconds ago   Up 15 seconds             busy_shirley</span><br><span class="line">orion@orion-24:~$ docker exec -it f3103fd9e049 /bin/bash</span><br><span class="line">[root@f3103fd9e049 /]# ls</span><br><span class="line">anaconda-post.log  dev  home  lib64  mnt  proc  run   srv  tmp  var</span><br><span class="line">bin                etc  lib   media  opt  root  sbin  sys  usr</span><br><span class="line">[root@f3103fd9e049 /]# ps -ef</span><br><span class="line">UID          PID    PPID  C STIME TTY          TIME CMD</span><br><span class="line">root           1       0  0 02:03 ?        00:00:00 /bin/sh -c while true;do ech</span><br><span class="line">root          74       0  0 02:04 pts/0    00:00:00 /bin/bash</span><br><span class="line">root          98       1  0 02:04 ?        00:00:00 sleep 1</span><br><span class="line">root          99      74  0 02:04 pts/0    00:00:00 ps -ef</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方式二</span></span><br><span class="line">docker attach 容器ID</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">测试</span></span><br><span class="line">orion@orion-24:~$ docker attach f3103fd9e049 </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker <span class="built_in">exec</span>     <span class="comment">#进入容器后开启一个新的终端，可以在里面操作（常用）</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker attach   <span class="comment">#进入容器正在执行的终端，不会启动新的进程！</span></span></span><br></pre></td></tr></table></figure>

<p><strong>从容器内拷贝文件到主机上</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">docker cp 容器ID:容器内路径  目的主机路径</span><br><span class="line">查看当前主目录下</span><br><span class="line">orion@orion-24:~$ ls</span><br><span class="line">公共  模板  视频  图片  文档  下载  音乐  桌面  APP  snap  uninstall-docker.sh</span><br><span class="line">orion@orion-24:~$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE      COMMAND                   CREATED          STATUS          PORTS     NAMES</span><br><span class="line">f3103fd9e049   centos:7   &quot;/bin/sh -c &#x27;while t…&quot;   51 minutes ago   Up </span><br><span class="line">50 minutes             busy_shirley</span><br><span class="line"></span><br><span class="line">进入docker容器内部</span><br><span class="line">orion@orion-24:~$ docker attach 472bc2b0883d </span><br><span class="line">[root@472bc2b0883d /]# cd /home</span><br><span class="line">[root@472bc2b0883d home]# ls</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">容器内新建一个测试文件</span></span><br><span class="line">[root@472bc2b0883d home]# touch test.java</span><br><span class="line">[root@472bc2b0883d home]# ls</span><br><span class="line">test.java</span><br><span class="line">[root@472bc2b0883d home]# exit</span><br><span class="line">exit</span><br><span class="line">orion@orion-24:~$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">orion@orion-24:~$ docker ps -a</span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                   CREATED        STATUS                      PORTS     NAMES</span><br><span class="line">472bc2b0883d   centos:7       &quot;/bin/bash&quot;               5 hours ago    Exited (0) 28 seconds ago             kind_archimedes</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将这文件拷贝出来到主机上级</span></span><br><span class="line">orion@orion-24:/$ sudo su                                  #Ubuntu的提权命令（权限升级至root才能获得文件权限）</span><br><span class="line">root@orion-24:/# docker cp 472bc2b0883d:/home/test.java /home</span><br><span class="line">Successfully copied 1.54kB to /home</span><br><span class="line">root@orion-24:/# ls</span><br><span class="line">bin                boot   dev  home  lib64              lost+found  mnt  proc  run   sbin.usr-is-merged  srv       sys  usr</span><br><span class="line">bin.usr-is-merged  cdrom  etc  lib   lib.usr-is-merged  media       opt  root  sbin  snap                swap.img  tmp  var</span><br><span class="line">root@orion-24:/# cd home/</span><br><span class="line">root@orion-24:/home# ls</span><br><span class="line">orion  test.java</span><br><span class="line">root@orion-24:/home# </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p><img src="/./assets/image-20250807164326671.png" alt="image-20250807164326671"></p>
<hr>
<p><img src="/./assets/image-20250807163331616.png" alt="image-20250807163331616"></p>
<p><img src="/./assets/image-20250807163355061.png" alt="image-20250807163355061"></p>
<blockquote>
<p><strong>docker安装Nignx</strong></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、搜索镜像</span> </span><br><span class="line">orion@orion-24:/$ docker search nginx</span><br><span class="line">NAME                                     DESCRIPTION                                      STARS     OFFICIAL</span><br><span class="line">nginx                                    Official build of Nginx.                         20927     [OK]</span><br><span class="line">nginx/nginx-ingress                      NGINX and  NGINX Plus Ingress Controllers fo…   108       </span><br><span class="line">nginx/nginx-prometheus-exporter          NGINX Prometheus Exporter for NGINX and NGIN…   50        </span><br><span class="line">nginx/unit                               This repository is retired, use the Docker o…   65        </span><br><span class="line">nginx/nginx-ingress-operator             NGINX Ingress Operator for NGINX and NGINX P…   2         </span><br><span class="line">nginx/docker-extension                                                                    0         </span><br><span class="line">nginx/nginx-quic-qns                     NGINX QUIC interop                               1         </span><br><span class="line">nginx/nginxaas-loadbalancer-kubernetes                                                    1         </span><br><span class="line">nginx/unit-preview                       Unit preview features                            0         </span><br><span class="line">bitnami/nginx                            Bitnami container image for NGINX                201       </span><br><span class="line">ubuntu/nginx                             Nginx, a high-performance reverse proxy &amp; we…   133       </span><br><span class="line">bitnamicharts/nginx                      Bitnami Helm chart for NGINX Open Source         1         </span><br><span class="line">kasmweb/nginx                            An Nginx image based off nginx:alpine and in…   8         </span><br><span class="line">rancher/nginx                                                                             2         </span><br><span class="line">linuxserver/nginx                        An Nginx container, brought to you by LinuxS…   231       </span><br><span class="line">dtagdevsec/nginx                         T-Pot Nginx                                      0         </span><br><span class="line">paketobuildpacks/nginx                                                                    0         </span><br><span class="line">vmware/nginx                                                                              3         </span><br><span class="line">chainguard/nginx                         Build, ship and run secure software with Cha…   4         </span><br><span class="line">gluufederation/nginx                      A customized NGINX image containing a consu…   1         </span><br><span class="line">intel/nginx                                                                               0         </span><br><span class="line">antrea/nginx                             Nginx server used for Antrea e2e testing         0         </span><br><span class="line">circleci/nginx                           This image is for internal use                   2         </span><br><span class="line">docksal/nginx                            Nginx service image for Docksal                  1         </span><br><span class="line">corpusops/nginx                          https://github.com/corpusops/docker-images/      1      </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.拉取镜像</span></span><br><span class="line">orion@orion-24:/$ docker pull nginx</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">59e22667830b: Pull complete </span><br><span class="line">140da4f89dcb: Pull complete </span><br><span class="line">96e47e70491e: Pull complete </span><br><span class="line">2ef442a3816e: Pull complete </span><br><span class="line">4b1e45a9989f: Pull complete </span><br><span class="line">1d9f51194194: Pull complete </span><br><span class="line">f30ffbee4c54: Pull complete </span><br><span class="line">Digest: sha256:84ec966e61a8c7846f509da7eb081c55c1d56817448728924a87ab32f12a72fb</span><br><span class="line">Status: Downloaded newer image for nginx:latest</span><br><span class="line">docker.io/library/nginx:latest</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3运行测试</span></span><br><span class="line">orion@orion-24:/$ docker images</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">mysql         latest    fe7f726d39a6   2 weeks ago    921MB</span><br><span class="line">nginx         latest    2cd1d97f893f   3 weeks ago    192MB</span><br><span class="line">hello-world   latest    74cc54e27dc4   6 months ago   10.1kB</span><br><span class="line">centos        7         eeb6ee3f44bd   3 years ago    204MB</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d 后台运行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--name 为容器命名</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 宿主机端口：容器内端口</span></span><br><span class="line">orion@orion-24:/$ docker run -d --name nginx01 -p 3344:80 nginx</span><br><span class="line">426877deb663671bb7b6decc1c41021fcbf8ae800ac1156319de313d46ebf575</span><br><span class="line">orion@orion-24:/$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS                                     NAMES</span><br><span class="line">426877deb663   nginx     &quot;/docker-entrypoint.…&quot;   5 seconds ago   Up 5 seconds   0.0.0.0:3344-&gt;80/tcp, [::]:3344-&gt;80/tcp   nginx01</span><br><span class="line">orion@orion-24:/$ curl localhost:3344</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=&quot;http://nginx.org/&quot;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=&quot;http://nginx.com/&quot;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器</span></span><br><span class="line">orion@orion-24:/$ docker images</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">mysql         latest    fe7f726d39a6   2 weeks ago    921MB</span><br><span class="line">nginx         latest    2cd1d97f893f   3 weeks ago    192MB</span><br><span class="line">hello-world   latest    74cc54e27dc4   6 months ago   10.1kB</span><br><span class="line">centos        7         eeb6ee3f44bd   3 years ago    204MB</span><br><span class="line">orion@orion-24:/$ docker exec -it nginx01 /bin/bash</span><br><span class="line">root@426877deb663:/# whereis nginx</span><br><span class="line">nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx</span><br><span class="line">root@426877deb663:/# cd /etc/nginx</span><br><span class="line">root@426877deb663:/etc/nginx# ls</span><br><span class="line">conf.d	fastcgi_params	mime.types  modules  nginx.conf  scgi_params  uwsgi_params</span><br><span class="line">root@426877deb663:/etc/nginx# </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250807192614558.png" alt="image-20250807192614558"></p>
<p><strong>docker安装Tomcat</strong></p>
<p><img src="/./assets/image-20250807220751541.png" alt="image-20250807220751541"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">orion@orion-24:/$ docker run -d -p 3355:8080 --name tomcat01 tomcat</span><br><span class="line">95f498df20f52c4ebfefdda332d75198115ae23907a33bf6b21e803240dbd4a7</span><br><span class="line">orion@orion-24:/$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS                                         NAMES</span><br><span class="line">95f498df20f5   tomcat    &quot;catalina.sh run&quot;         5 seconds ago   Up 4 seconds   0.0.0.0:3355-&gt;8080/tcp, [::]:3355-&gt;8080/tcp   tomcat01</span><br><span class="line">426877deb663   nginx     &quot;/docker-entrypoint.…&quot;   3 hours ago     Up 3 hours     0.0.0.0:3344-&gt;80/tcp, [::]:3344-&gt;80/tcp       nginx01</span><br><span class="line">orion@orion-24:/$ cd /home/</span><br><span class="line">orion@orion-24:/home$ docker exec -it tomcat01/bin/bash</span><br><span class="line">docker: &#x27;docker exec&#x27; requires at least 2 arguments</span><br><span class="line"></span><br><span class="line">Usage:  docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</span><br><span class="line"></span><br><span class="line">See &#x27;docker exec --help&#x27; for more information</span><br><span class="line">orion@orion-24:/home$ docker exec -it tomcat01 /bin/bash</span><br><span class="line">root@95f498df20f5:/usr/local/tomcat# </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置Tomcat首页</span></span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat# ls</span><br><span class="line">bin           conf             filtered-KEYS  LICENSE  native-jni-lib  README.md      RUNNING.txt  upstream-KEYS    webapps.dist</span><br><span class="line">BUILDING.txt  CONTRIBUTING.md  lib            logs     NOTICE          RELEASE-NOTES  temp         webapps        work</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat# cd webapps.dist/</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat/webapps.dist# ls</span><br><span class="line">docs  examples  host-manager  manager  ROOT</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat/webapps.dist# cd ..</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat# cp -r webapps.dist/* webapps</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat# cd webapps</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat/webapps# ls</span><br><span class="line">docs  examples  host-manager  manager  ROOT</span><br><span class="line">root@ac08dd3ae76d:/usr/local/tomcat/webapps# </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>docker的Portainer可视化面板安装</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、下载Portainer镜像 </span><br><span class="line"></span><br><span class="line">sudo docker pull portainer/portainer-ce</span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2、运行Portainer容器</span><br><span class="line"></span><br><span class="line">sudo docker run -d -p 9000:9000 \</span><br><span class="line">--name portainer --restart always \</span><br><span class="line">-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">-v portainer_data:/data portainer/portainer-ce</span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250808121240021.png" alt="image-20250808121240021"></p>
<h2 id="Docker镜像理解"><a href="#Docker镜像理解" class="headerlink" title="Docker镜像理解"></a>Docker镜像理解</h2><h3 id="镜像是什么"><a href="#镜像是什么" class="headerlink" title="镜像是什么"></a>镜像是什么</h3><p>镜像是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它包含运行某个软件所需要的所有内容，包括代码、运行时、库、环境变量和配置文件。</p>
<h3 id="Docker镜像加载原理"><a href="#Docker镜像加载原理" class="headerlink" title="Docker镜像加载原理"></a>Docker镜像加载原理</h3><blockquote>
<p>UnionFS （联合文件系统）</p>
</blockquote>
<p>UnionFS（联合文件系统）：Union文件系统（UnionFS）是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下（）。Union文件系统是Docker镜像的基础。镜像可以通过分层来进行继承，基于基础镜像（没有父镜像），可以制作各种具体的应用镜像。</p>
<p><strong>&#x3D;&#x3D;特性：一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文件系统会包含所有底层的文件和目录&#x3D;&#x3D;</strong></p>
<blockquote>
<p>Docker镜像加载原理</p>
</blockquote>
<p>Docker的镜像实际上由一层一层的文件系统组成，这种层级的文件系统UnionFS。</p>
<p>bootfs(bootfilesystem）主要包含bootloader和kernel，bootloader主要是引导加载kernel,Linux刚启动时会加载bootfs文件系统，在Docker镜像的最底层是bootfs。这一层与我们典型的Linux&#x2F;Unix系统是一样的，包含boot加载器和内核。当boot加载完成之后整个内核就都在内存中了，此时内存的使用权已由bootfs转交给内核，此时系统也会卸载bootfs。<br>rootfs（rootfilesystem），在bootfs之上。包含的就是典型Linux系统中的&#x2F;dev，&#x2F;proc，&#x2F;bin，&#x2F;etc等标准目录和文件。rootfs就是各种不同的操作系统发行版，比如Ubuntu，Centos等等。</p>
<p><img src="/./assets/image-20250808193627677.png" alt="image-20250808193627677"></p>
<p>平时我们安装LInux操作系统,无论哪一个版本，都是占用好几个G的磁盘空间，而在Docker中下载一个centos仅需要200Mb</p>
<p><img src="/./assets/image-20250808195830786.png" alt="image-20250808195830786"></p>
<p>对一个精简的OS，rootfs可以很小，只需要包含基本的使用命令、工具和程序库即可，因为底层是直接使用宿主机的&#x3D;&#x3D;内核&#x3D;&#x3D;（kernel）,自己只需要提供rootfs就可以了。由此可见对于不同的linux发行版，bootfs基本是一致的rootfs会有差别，因此不同的发行版可以公用rootfs。</p>
<blockquote>
<p>​        Docker容器可以达到秒级的响应，关键在于它的分层设计和共享机制。每个Docker镜像都由多个只读层组成，这些层可以重复使用。比如一个基础层包含&#x2F;bin、&#x2F;lib这些目录，其他镜像可以基于这个基础层构建，只添加自己需要的部分。这样就不用每次都复制整个系统文件了。</p>
<p>​       共享内核这点也很重要。Docker容器和宿主机共享同一个Linux内核，所以镜像里不需要包含内核文件。传统虚拟机每个实例都要有自己的内核，而Docker省去了这部分，节省了大量空间。另外，Docker镜像通常不包含内核模块，因为宿主机的内核已经加载了所需模块。</p>
<p>​         精简系统组件也是原因之一。Docker镜像通常只保留运行特定服务所需的最精简组件，比如没有图形界面、没有多余文档、没有预装软件。就像CentOS镜像可能只保留yum、coreutils这些最基本的工具包。通过多阶段构建，可以在构建过程中丢弃不需要的中间文件，进一步减小镜像体积。</p>
<p>​         启动速度方面，传统系统启动时要加载内核、初始化系统、启动各种服务，整个过程比较慢。而Docker容器直接共享宿主机内核，启动时只需要挂载文件系统、配置网络等少量步骤，所以能秒级启动。资源占用也更少，因为多个容器共享同一个内核，不需要为每个容器分配完整的系统资源。</p>
<p>​       通俗的讲就是docker的centos镜像使用自己本地主机Ubuntu24.4.2LTS的内核,来运行所配套的程序及其库。不需要再重复的下载繁重的系统内核，直接套用即可，类似于java封装好的接口直接调用。</p>
</blockquote>
<h3 id="Docker分层理解"><a href="#Docker分层理解" class="headerlink" title="Docker分层理解"></a>Docker分层理解</h3><blockquote>
<p><strong>分层的镜像</strong></p>
</blockquote>
<p>可以去下载一个镜像，注意观察下载日志输出，可以看到是一层一层的在下载！</p>
<p>用「Docker 容器分层」的理念来看这张图，其实就是在<strong>逐层拉取（pull）Redis 镜像的各个层（layer）</strong>。</p>
<p><img src="/./assets/image-20250808202913728.png" alt="image-20250808202913728"></p>
<table>
<thead>
<tr>
<th>图上文字</th>
<th>实际含义（分层视角）</th>
</tr>
</thead>
<tbody><tr>
<td><code>59e22667830b: Already exists</code></td>
<td>这一层在本地已存在，<strong>复用</strong>，不需要重新下载。</td>
</tr>
<tr>
<td><code>0d70579159bb: Pull complete</code></td>
<td>这一层刚下载完，标记为完成。</td>
</tr>
<tr>
<td><code>3f8c6beabb1f: Pull complete</code></td>
<td>同上，已完整下载。</td>
</tr>
<tr>
<td><code>243804704905: Downloading 4.51 MB / 27.6 MB</code></td>
<td>正在下载的层，已拉取 4.51 MB，总量 27.6 MB。</td>
</tr>
<tr>
<td><code>06a6d6eb795d: Waiting</code></td>
<td>依赖上层还没下载完，<strong>排队等待</strong>。</td>
</tr>
<tr>
<td><code>4f4fb700ef54: Download complete</code></td>
<td>又一层已就绪。</td>
</tr>
<tr>
<td><code>1392a3a0fd93: Download complete</code></td>
<td>最后一层也好了。</td>
</tr>
</tbody></table>
<p>思考：为什么Docker镜像要采用这种分层的结构呢？</p>
<p><strong>分层带来的好处（从这张图就能看出）</strong></p>
<ul>
<li><strong>复用</strong>：<code>59e2...</code> 层本地已有，省流量省时间。</li>
<li><strong>并发</strong>：每层可以独立下载、校验、解压，所以会看到多行并行状态。</li>
<li><strong>缓存</strong>：下次拉取另一个基于相同基础镜像的容器（例如 <code>redis:7-alpine</code>）时，这些层直接复用，几乎秒下。</li>
</ul>
<p>最大的好处，我觉得莫过于是资源共享了！比如有多个镜像都从相同的Base镜像构建而来，那么宿主机只需在磁盘上保留一份base镜像，同时内存中也只需要加载一份base镜像，这样就可以为所有的容器服务了，而且镜像的每一层都可以被共享。</p>
<p><strong>查看镜像分层的方式可以通过docker image inspect命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">orion@orion-24:~$ docker image inspect redis:latest</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;sha256:2f21f6e6fe03146ad470d4d98839e09d0fe91ed706320d970f9e749f5a3067bc&quot;,</span><br><span class="line">        &quot;RepoTags&quot;: [</span><br><span class="line">            &quot;redis:latest&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;RepoDigests&quot;: [</span><br><span class="line">            &quot;redis@sha256:b0efb06f6b4d8c1e2fd1b7c1e89e178d787b432b7b09286b4e7ea3dcdbac777a&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;Parent&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Comment&quot;: &quot;buildkit.dockerfile.v0&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2025-08-04T12:27:33Z&quot;,</span><br><span class="line">        &quot;DockerVersion&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Author&quot;: &quot;&quot;,</span><br><span class="line">        &quot;Architecture&quot;: &quot;amd64&quot;,</span><br><span class="line">        &quot;Os&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;Size&quot;: 157012583,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/161b524542e27cac67ea603bd8a1c73bb7e859d2b29763ba2df5c5939a3ba3a6/diff:/var/lib/docker/overlay2/f4697d559d68f09b428cf8583ea12a49eae1e745b6f79db14a7434b6c772d7d0/diff:/var/lib/docker/overlay2/7191b3b9c786641bc822708f8030089cb6b1a4453a629546496d1b1765becf7d/diff:/var/lib/docker/overlay2/e121cb60d52e11352e242a83fc15d0a3cbb4eb67b39b35f502ca46b5bcc5a1b7/diff:/var/lib/docker/overlay2/c19bfdd047d3909a8f13c141f7e3d746c06ea146623f86354a942477d3cdc7e0/diff:/var/lib/docker/overlay2/c69ef9e8454268a533c649357de34b5845406f24ee4d6fc9a80a0525828ccc4a/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/26bac98bfe099456df4f6a76caac76f33f5374e56567569f8e75fd18337aa40e/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/26bac98bfe099456df4f6a76caac76f33f5374e56567569f8e75fd18337aa40e/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/26bac98bfe099456df4f6a76caac76f33f5374e56567569f8e75fd18337aa40e/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;RootFS&quot;: &#123;</span><br><span class="line">            &quot;Type&quot;: &quot;layers&quot;,</span><br><span class="line">            &quot;Layers&quot;: [</span><br><span class="line">                &quot;sha256:7cc7fe68eff66f19872441a51938eecc4ad33746d2baa3abc081c1e6fe25988e&quot;,</span><br><span class="line">                &quot;sha256:2163b254cbea9439d3310e0f3769e613bee77cfcbed71f9f1c4bc3df846c628d&quot;,</span><br><span class="line">                &quot;sha256:6f51d8a77811f2bc408144699550df85ff4fff96c104e51ea37438a6ce6864f1&quot;,</span><br><span class="line">                &quot;sha256:e483e9c4480e8a04d17359a6e2a6a6aab93686a65dd0f41292a28779051e910f&quot;,</span><br><span class="line">                &quot;sha256:f581f752b89d409e31f43e97d82482f4f002085428b447a29e0814739472c256&quot;,</span><br><span class="line">                &quot;sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef&quot;,</span><br><span class="line">                &quot;sha256:d0f1b9119ff84f67c13c4a1cdc362a19d637dec30faf8b0e43f2e1cd0ec29e2a&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Metadata&quot;: &#123;</span><br><span class="line">            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;redis-server&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Entrypoint&quot;: [</span><br><span class="line">                &quot;docker-entrypoint.sh&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,</span><br><span class="line">                &quot;REDIS_DOWNLOAD_URL=https://github.com/redis/redis/archive/refs/tags/8.2.0.tar.gz&quot;,</span><br><span class="line">                &quot;REDIS_DOWNLOAD_SHA=c64219bdcba407d18c8dde1fb87b86945aebf75e60f5b44ff463785a962645ed&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ExposedPorts&quot;: &#123;</span><br><span class="line">                &quot;6379/tcp&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Labels&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Volumes&quot;: &#123;</span><br><span class="line">                &quot;/data&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;/data&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>理解：</strong></p>
<p>所有的Docker镜像都起始于一个基础镜像层，当进行修改或增加新的内容时，就会在当前镜像层之上，创建新的镜像层。<br>举一个简单的例子，假如基于UbuntuLinux16.04创建一个新的镜像，这就是新镜像的第一层；如果在该镜像中添加Python包，就会在基础镜像层之上创建第二个镜像层；如果继续添加一个安全补于，就会创建第三个镜像层。</p>
<p>该镜像当前已经包含3个镜像层，如下图所示（这只是一个用于演示的很简单的例子）。</p>
<p><img src="/./assets/image-20250808203707630.png" alt="image-20250808203707630"></p>
<p>在添加额外的镜像层的同时，镜像始终保持是当前所有镜像的组合，理解这一点非常重要。下图中举了一个简单的例子，每个镜像层包含3个文件，而镜像包含了来自两个镜像层的6个文件。</p>
<p><img src="/./assets/image-20250808203813832.png" alt="image-20250808203813832"></p>
<p>上图中的镜像层跟之前图中的略有区别，主要目的是便于展示文件。</p>
<p>下图中展示了一个稍微复杂的三层镜像，在外部看来整个镜像只有6个文件，这是因为最上层中的文件7是文件5的一个更新版本。</p>
<p><img src="/./assets/image-20250808205151635.png" alt="image-20250808205151635"></p>
<p>这种情况下，上层镜像层中的文件覆盖了底层镜像层中的文件。这样就使得文件的更新版本作为一个新镜像层添加到镜像当中。</p>
<p>Docker通过存储引擎（新版本采用快照机制）的方式来实现镜像层堆栈，并保证多镜像层对外展示为统一的文件系统。</p>
<p>Linux上可用的存储引擎有AUFS、Overlay2、Device Mapper、Btrfs以及ZFS。顾名思义，每种存储引擎都基于Linux中对应的文件系统或者块设备技术，并且每种存储引擎都有其独有的性能特点。</p>
<p>Docker在Windows上仅支持windowsfilter一种存储引擎，该引擎基于NTFS文件系统之上实现了分层和CoW[1]。<br>下图展示了与系统显示相同的三层镜像。所有镜像层堆叠并合并，对外提供统一的视图。</p>
<p><img src="/./assets/image-20250808205329155.png" alt="image-20250808205329155"></p>
<blockquote>
<p>特点：</p>
</blockquote>
<p>Docker镜像都是只读的，当容器启动时，一个新的可写层被加载到镜像的顶部！</p>
<p>这一层就是我们通常说的容器层，容器之下的都叫镜像层！</p>
<p><img src="/./assets/image-20250808205603549.png" alt="image-20250808205603549"></p>
<h3 id="Commit镜像"><a href="#Commit镜像" class="headerlink" title="Commit镜像"></a><strong>Commit镜像</strong></h3><p><img src="/./assets/image-20250808212734923.png" alt="image-20250808212734923"></p>
<h2 id="容器数据卷"><a href="#容器数据卷" class="headerlink" title="容器数据卷"></a>容器数据卷</h2><h3 id="为什么需要容器数据卷？"><a href="#为什么需要容器数据卷？" class="headerlink" title="为什么需要容器数据卷？"></a>为什么需要容器数据卷？</h3><p>容器的文件系统是临时的，当容器被删除或重建时，其内部的数据会丢失。例如：</p>
<ul>
<li>若数据库容器被删除，库中的数据会随容器一起消失；</li>
<li>容器内生成的日志、配置文件等，在容器重启后可能被重置。</li>
</ul>
<p>数据卷的核心作用就是<strong>将容器内的数据 “挂载” 到宿主机（运行容器的主机）或其他存储位置</strong>，实现数据的持久化和共享。</p>
<p>docker的理念回顾,将应用和环境打包成一个镜像！<br>数据？如果数据都在容器中，那么我们容器删除，数据就会丢失！&#x3D;&#x3D;<strong>需求：数据可以持久化</strong>&#x3D;&#x3D;</p>
<p>MySQL，容器删了，删库跑路！需求：MySQL数据可以存储在本地！<br>容器之间可以有一个数据共享的技术！Docker容器中产生的数据，同步到本地！<br>这就是卷技术！目录的挂载，将我们容器内的目录，挂载到Linux上面！</p>
<p><img src="/./assets/image-20250809100452711.png" alt="image-20250809100452711"></p>
<p><strong>总结：容器的持久化和同步操作！容器间也是可以数据共享的！</strong></p>
<h3 id="数据卷与绑定挂载的区别"><a href="#数据卷与绑定挂载的区别" class="headerlink" title="数据卷与绑定挂载的区别"></a>数据卷与绑定挂载的区别</h3><p>在 Docker 中，除了数据卷，还有一种类似功能的 “绑定挂载（Bind Mount）”，两者的核心区别如下：</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>数据卷（Volume）</th>
<th>绑定挂载（Bind Mount）</th>
</tr>
</thead>
<tbody><tr>
<td>管理方式</td>
<td>由 Docker 引擎统一管理（<code>docker volume</code>命令）</td>
<td>由用户手动管理宿主机路径</td>
</tr>
<tr>
<td>存储位置</td>
<td>默认在<code>/var/lib/docker/volumes/</code>（Docker 控制）</td>
<td>宿主机任意路径（用户指定）</td>
</tr>
<tr>
<td>适用场景</td>
<td>长期持久化、容器间共享、对接外部存储</td>
<td>开发时临时映射（如代码实时调试）</td>
</tr>
<tr>
<td>权限控制</td>
<td>更灵活（可设置读写 &#x2F; 只读、用户组等）</td>
<td>依赖宿主机路径权限\</td>
</tr>
</tbody></table>
<h3 id="使用数据卷"><a href="#使用数据卷" class="headerlink" title="使用数据卷"></a>使用数据卷</h3><blockquote>
<p>方式一：直接使用命令来挂载    -v</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v 主机目录：容器内目录   </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">终端1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">测试</span></span><br><span class="line">root@orion-24:/home# docker run -it -v /home/test_file:/home centos:7 /bin/bash</span><br><span class="line">[root@cf4ad73eb61d /]# </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动起来的时候我们可以通过docker inspect 容器 ID</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><img src="/./assets/image-20250809102441167.png" alt="image-20250809102441167"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">终端2</span></span><br><span class="line">root@orion-24:/home# ls</span><br><span class="line">orion  test_file  test.java</span><br><span class="line">root@orion-24:/home# docker ps</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND        CREATED         STATUS          PORTS                                                             NAMES</span><br><span class="line">cf4ad73eb61d   centos:7                 &quot;/bin/bash&quot;    5 minutes ago   Up 5 minutes                                                                      wonderful_booth</span><br><span class="line">70f8faf0ed00   portainer/portainer-ce   &quot;/portainer&quot;   2 days ago      Up 24 minutes   8000/tcp, 9443/tcp, 0.0.0.0:9000-&gt;9000/tcp, [::]:9000-&gt;9000/tcp   portainer</span><br><span class="line">root@orion-24:/home# docker inspect cf4ad73eb61d </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2025-08-10T09:07:37.817993189Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;/bin/bash&quot;,</span><br><span class="line">        &quot;Args&quot;: [],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">            &quot;Running&quot;: true,</span><br><span class="line">            &quot;Paused&quot;: false,</span><br><span class="line">            &quot;Restarting&quot;: false,</span><br><span class="line">            &quot;OOMKilled&quot;: false,</span><br><span class="line">            &quot;Dead&quot;: false,</span><br><span class="line">            &quot;Pid&quot;: 4204,</span><br><span class="line">            &quot;ExitCode&quot;: 0,</span><br><span class="line">            &quot;Error&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StartedAt&quot;: &quot;2025-08-10T09:07:37.876007112Z&quot;,</span><br><span class="line">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Image&quot;: &quot;sha256:eeb6ee3f44bd0b5103bb561b4c16bcb82328cfe5809ab675bb17ab3a16c517c9&quot;,</span><br><span class="line">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600/resolv.conf&quot;,</span><br><span class="line">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600/hostname&quot;,</span><br><span class="line">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600/hosts&quot;,</span><br><span class="line">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600/cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600-json.log&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;/wonderful_booth&quot;,</span><br><span class="line">        &quot;RestartCount&quot;: 0,</span><br><span class="line">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class="line">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;AppArmorProfile&quot;: &quot;docker-default&quot;,</span><br><span class="line">        &quot;ExecIDs&quot;: null,</span><br><span class="line">        &quot;HostConfig&quot;: &#123;</span><br><span class="line">            &quot;Binds&quot;: [</span><br><span class="line">                &quot;/home/test_file:/home&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LogConfig&quot;: &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class="line">                &quot;Config&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;NetworkMode&quot;: &quot;bridge&quot;,</span><br><span class="line">            &quot;PortBindings&quot;: &#123;&#125;,</span><br><span class="line">            &quot;RestartPolicy&quot;: &#123;</span><br><span class="line">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class="line">                &quot;MaximumRetryCount&quot;: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;AutoRemove&quot;: false,</span><br><span class="line">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class="line">            &quot;VolumesFrom&quot;: null,</span><br><span class="line">            &quot;ConsoleSize&quot;: [</span><br><span class="line">                27,</span><br><span class="line">                157</span><br><span class="line">            ],</span><br><span class="line">            &quot;CapAdd&quot;: null,</span><br><span class="line">            &quot;CapDrop&quot;: null,</span><br><span class="line">            &quot;CgroupnsMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Dns&quot;: [],</span><br><span class="line">            &quot;DnsOptions&quot;: [],</span><br><span class="line">            &quot;DnsSearch&quot;: [],</span><br><span class="line">            &quot;ExtraHosts&quot;: null,</span><br><span class="line">            &quot;GroupAdd&quot;: null,</span><br><span class="line">            &quot;IpcMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Links&quot;: null,</span><br><span class="line">            &quot;OomScoreAdj&quot;: 0,</span><br><span class="line">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Privileged&quot;: false,</span><br><span class="line">            &quot;PublishAllPorts&quot;: false,</span><br><span class="line">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class="line">            &quot;SecurityOpt&quot;: null,</span><br><span class="line">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;ShmSize&quot;: 67108864,</span><br><span class="line">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class="line">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpuShares&quot;: 0,</span><br><span class="line">            &quot;Memory&quot;: 0,</span><br><span class="line">            &quot;NanoCpus&quot;: 0,</span><br><span class="line">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class="line">            &quot;BlkioWeight&quot;: 0,</span><br><span class="line">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadBps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceWriteBps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadIOps&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceWriteIOps&quot;: [],</span><br><span class="line">            &quot;CpuPeriod&quot;: 0,</span><br><span class="line">            &quot;CpuQuota&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class="line">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Devices&quot;: [],</span><br><span class="line">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class="line">            &quot;DeviceRequests&quot;: null,</span><br><span class="line">            &quot;MemoryReservation&quot;: 0,</span><br><span class="line">            &quot;MemorySwap&quot;: 0,</span><br><span class="line">            &quot;MemorySwappiness&quot;: null,</span><br><span class="line">            &quot;OomKillDisable&quot;: null,</span><br><span class="line">            &quot;PidsLimit&quot;: null,</span><br><span class="line">            &quot;Ulimits&quot;: [],</span><br><span class="line">            &quot;CpuCount&quot;: 0,</span><br><span class="line">            &quot;CpuPercent&quot;: 0,</span><br><span class="line">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class="line">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class="line">            &quot;MaskedPaths&quot;: [</span><br><span class="line">                &quot;/proc/asound&quot;,</span><br><span class="line">                &quot;/proc/acpi&quot;,</span><br><span class="line">                &quot;/proc/interrupts&quot;,</span><br><span class="line">                &quot;/proc/kcore&quot;,</span><br><span class="line">                &quot;/proc/keys&quot;,</span><br><span class="line">                &quot;/proc/latency_stats&quot;,</span><br><span class="line">                &quot;/proc/timer_list&quot;,</span><br><span class="line">                &quot;/proc/timer_stats&quot;,</span><br><span class="line">                &quot;/proc/sched_debug&quot;,</span><br><span class="line">                &quot;/proc/scsi&quot;,</span><br><span class="line">                &quot;/sys/firmware&quot;,</span><br><span class="line">                &quot;/sys/devices/virtual/powercap&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ReadonlyPaths&quot;: [</span><br><span class="line">                &quot;/proc/bus&quot;,</span><br><span class="line">                &quot;/proc/fs&quot;,</span><br><span class="line">                &quot;/proc/irq&quot;,</span><br><span class="line">                &quot;/proc/sys&quot;,</span><br><span class="line">                &quot;/proc/sysrq-trigger&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;ID&quot;: &quot;cf4ad73eb61d8e73657233f712e51a68c1a0c7b52ad1d3f3f7a3189ad093e600&quot;,</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/203519ecb7f35faaabf4acb14474eee52f1691a07d33f4dd5c666a10b5f1acde-init/diff:/var/lib/docker/overlay2/2866613b04610210f4ec2de3860dd766237f60ea23574d8661bd1837792af793/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/203519ecb7f35faaabf4acb14474eee52f1691a07d33f4dd5c666a10b5f1acde/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/203519ecb7f35faaabf4acb14474eee52f1691a07d33f4dd5c666a10b5f1acde/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/203519ecb7f35faaabf4acb14474eee52f1691a07d33f4dd5c666a10b5f1acde/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Mounts&quot;: [                                      # 挂载 -v卷</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;bind&quot;,</span><br><span class="line">                &quot;Source&quot;: &quot;/home/test_file&quot;,                       # 容器内地址</span><br><span class="line">                &quot;Destination&quot;: &quot;/home&quot;,                            # 主机内地址</span><br><span class="line">                &quot;Mode&quot;: &quot;&quot;,</span><br><span class="line">                &quot;RW&quot;: true,</span><br><span class="line">                &quot;Propagation&quot;: &quot;rprivate&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;cf4ad73eb61d&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: true,</span><br><span class="line">            &quot;AttachStdout&quot;: true,</span><br><span class="line">            &quot;AttachStderr&quot;: true,</span><br><span class="line">            &quot;Tty&quot;: true,</span><br><span class="line">            &quot;OpenStdin&quot;: true,</span><br><span class="line">            &quot;StdinOnce&quot;: true,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;/bin/bash&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;centos:7&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: &#123;</span><br><span class="line">                &quot;org.label-schema.build-date&quot;: &quot;20201113&quot;,</span><br><span class="line">                &quot;org.label-schema.license&quot;: &quot;GPLv2&quot;,</span><br><span class="line">                &quot;org.label-schema.name&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.label-schema.schema-version&quot;: &quot;1.0&quot;,</span><br><span class="line">                &quot;org.label-schema.vendor&quot;: &quot;CentOS&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.created&quot;: &quot;2020-11-13 00:00:00+00:00&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.licenses&quot;: &quot;GPL-2.0-only&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.title&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.opencontainers.image.vendor&quot;: &quot;CentOS&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;NetworkSettings&quot;: &#123;</span><br><span class="line">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class="line">            &quot;SandboxID&quot;: &quot;1c2677dc09f82fc82bb75c91e000132cea1c0cab5ac49268648fbe9ad9e2d904&quot;,</span><br><span class="line">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/1c2677dc09f8&quot;,</span><br><span class="line">            &quot;Ports&quot;: &#123;&#125;,</span><br><span class="line">            &quot;HairpinMode&quot;: false,</span><br><span class="line">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class="line">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class="line">            &quot;EndpointID&quot;: &quot;c7efd79ad1d7eac8d7cb41baef4226ddc3617727112c8ae507c4491443013003&quot;,</span><br><span class="line">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;IPAddress&quot;: &quot;172.17.0.3&quot;,</span><br><span class="line">            &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">            &quot;MacAddress&quot;: &quot;c6:d6:12:04:d5:9d&quot;,</span><br><span class="line">            &quot;Networks&quot;: &#123;</span><br><span class="line">                &quot;bridge&quot;: &#123;</span><br><span class="line">                    &quot;IPAMConfig&quot;: null,</span><br><span class="line">                    &quot;Links&quot;: null,</span><br><span class="line">                    &quot;Aliases&quot;: null,</span><br><span class="line">                    &quot;MacAddress&quot;: &quot;c6:d6:12:04:d5:9d&quot;,</span><br><span class="line">                    &quot;DriverOpts&quot;: null,</span><br><span class="line">                    &quot;GwPriority&quot;: 0,</span><br><span class="line">                    &quot;NetworkID&quot;: &quot;3c0d3c90b985e1526c23fef5632239bad477892b3ed7b2a35753acc6b5bb8672&quot;,</span><br><span class="line">                    &quot;EndpointID&quot;: &quot;c7efd79ad1d7eac8d7cb41baef4226ddc3617727112c8ae507c4491443013003&quot;,</span><br><span class="line">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">                    &quot;IPAddress&quot;: &quot;172.17.0.3&quot;,</span><br><span class="line">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">                    &quot;DNSNames&quot;: null</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">root@orion-24:/home# </span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250809102248318.png" alt="image-20250809102248318"></p>
<p><img src="/./assets/image-20250809102602861.png" alt="image-20250809102602861"></p>
<p>好处：以后修改只需要在本地修改即可，容器内会自动同步！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取镜像</span></span><br><span class="line">root@orion-24:/home#docker pull mysql:8.0.42</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行容器，需要做数据挂载！安装启动mysql ,需要配置密码的，注意***</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">官方测试， docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d muysql:tag</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动自己的mysql数据库</span></span><br><span class="line">-d 后台运行</span><br><span class="line">-p 端口映射</span><br><span class="line">-v 卷挂载</span><br><span class="line">-e 环境配置</span><br><span class="line">--name 容器名字</span><br><span class="line">root@orion-24:/home# docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">redis                    latest    2f21f6e6fe03   6 days ago     157MB</span><br><span class="line">nginx                    latest    2cd1d97f893f   3 weeks ago    192MB</span><br><span class="line">tomcat                   latest    ea4b111d0b40   5 weeks ago    476MB</span><br><span class="line">portainer/portainer-ce   latest    71de3839351a   5 weeks ago    268MB</span><br><span class="line">mysql                    8.0.42    7d4e34ccfad4   3 months ago   772MB</span><br><span class="line">root@orion-24:/home# docker run -d -p 3310:3306 -v /home/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:8.0.42</span><br><span class="line">a52a5fd91a43f1c5c6fd1044a1cd60c6687e0eff21616e08e1112c15c2548a5e</span><br><span class="line">root@orion-24:/home# </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动成功之后，我们在本地使用sqlyog来接测试一下</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">sq1yog-连接到服务器的3310---3310和容器内的3306映射，这个时候我们就可以连接上了！</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在本地测试创建一个数据库，查看一下我们映射的路径是否ok！</span></span><br><span class="line"></span><br><span class="line">root@orion-24:/home# # 使用 127.0.0.1 强制通过 TCP 端口连接（而非 socket）</span><br><span class="line">mysql -h 127.0.0.1 -P 3310 -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 8</span><br><span class="line">Server version: 8.0.42 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2025, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"><span class="built_in">exit</span></span></span><br><span class="line">Bye</span><br><span class="line">root@orion-24:/home# </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250811173018009.png" alt="image-20250811173018009"></p>
<p><img src="/./assets/image-20250811173751540.png" alt="image-20250811173751540"></p>
<p><img src="/./assets/image-20250811174344410.png" alt="image-20250811174344410"></p>
<h3 id="初识Dockerfile"><a href="#初识Dockerfile" class="headerlink" title="初识Dockerfile"></a>初识Dockerfile</h3><p>dockerfile就是用来构建docker 镜像的构建文件！命令脚本！</p>
<blockquote>
<p>方式二：</p>
</blockquote>
<p><img src="/./assets/image-20250811183118003.png" alt="image-20250811183118003"></p>
<p><img src="/./assets/image-20250811183123650.png" alt="image-20250811183123650"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">FROM centos:7 </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义两个匿名数据卷（修正名称拼写）</span> </span><br><span class="line">VOLUME [&quot;volume01&quot;, &quot;volume02&quot;] # 合并 CMD 指令并使用 JSON 格式 </span><br><span class="line"></span><br><span class="line">CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;echo &#x27;-------------end---------------&#x27; &amp;&amp; /bin/bash&quot;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/./assets/image-20250811182818138.png" alt="image-20250811182818138"></p>
<p><img src="/./assets/image-20250811183411675.png" alt="image-20250811183411675"></p>
<p><img src="/./assets/image-20250811183501609.png" alt="image-20250811183501609"></p>
<p><img src="/./assets/image-20250811183622667.png" alt="image-20250811183622667"></p>
<h3 id="数据卷容器"><a href="#数据卷容器" class="headerlink" title="数据卷容器"></a>数据卷容器</h3><p>多个mysql同步数据！</p>
<p><img src="/./assets/image-20250812144600155.png" alt="image-20250812144600155"></p>
<p><img src="/./assets/image-20250812144218713.png" alt="image-20250812144218713"></p>
<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><h3 id="Dockerfile介绍"><a href="#Dockerfile介绍" class="headerlink" title="Dockerfile介绍"></a>Dockerfile介绍</h3><p>dockerfile是用于构建docker镜像的文件！命令参数脚本！</p>
<p>构建步骤：</p>
<p>1.编写一个dockerfile文件</p>
<p>2.docker build 构建成为一个镜像</p>
<p>3.docker run 运行镜像</p>
<p>4.docker push 发布镜像（DockerHub、阿里云镜像仓库！）</p>
<p><img src="/./assets/image-20250812152644276.png" alt="image-20250812152644276"></p>
<p><img src="/./assets/image-20250812152752393.png" alt="image-20250812152752393"></p>
<h3 id="Dockerfile构建过程"><a href="#Dockerfile构建过程" class="headerlink" title="Dockerfile构建过程"></a>Dockerfile构建过程</h3><p><strong>基础知识：</strong></p>
<p>1.每个关键字（指令）都是必须大写字母</p>
<p>2.执行从上到下顺序执行</p>
<p>3.#表示注释</p>
<p>4.每一个指令都会创建提交一个新的镜像层，并提交</p>
<p><img src="/./assets/image-20250812153746577.png" alt="image-20250812153746577"></p>
<p>dockerfile是面向开发的，我们以后要发布项目，做镜像，就需要编写dockerfile文件，这个文件十分简单！<br>Docker镜像逐渐成为企业交付的标准，必须要掌握！<br>步骤：开发，部署，运维。。。缺一不可！<br>DockerFile：构建文件，定义了一切的步骤，源代码<br>Dockerlmages：通过DockerFile构建生成的镜像，最终发布和运行的产品!<br>Docker容器：容器就是镜像运行起来提供服务器</p>
<h3 id="Dockerfile的指令"><a href="#Dockerfile的指令" class="headerlink" title="Dockerfile的指令"></a>Dockerfile的指令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FROM                         #基础镜镜像，一切从这里开始构建</span><br><span class="line">MAINTAINER                   #镜像是谁写的，姓名+邮箱</span><br><span class="line">RUN                          #镜像构建的时候需要运行的命令</span><br><span class="line">ADD                          #步骤：tomcat镜像，这个tomcat压缩包！添加内容</span><br><span class="line">WORKDIR                      #镜像的工作目录</span><br><span class="line">VOL UME                      #挂载的目录</span><br><span class="line">EXPOSE                       #保留端口配置</span><br><span class="line">CMD                          #指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代</span><br><span class="line">ENTRYPOINT                   #指定这个容器启动的时候要运行的命令，可以追加命令</span><br><span class="line">ONBUILD                      #当构建一个被继承DockerFile这个时候就会运行ONBUILD的指令。触发指令。</span><br><span class="line">COPY                         #类似ADD，将我们文件拷贝到镜像中</span><br><span class="line">ENV                          #构建的时候设置环境变量！</span><br></pre></td></tr></table></figure>



<img src="./assets/image-20250812164101278.png" alt="image-20250812164101278" style="zoom:65%;" />

<h3 id="构建镜像"><a href="#构建镜像" class="headerlink" title="构建镜像"></a>构建镜像</h3><p>DockerHub中99%镜像都是从这个基础镜像过来的FROM  scratch，然后配置需要的软件和配置来进行的构建</p>
<p><img src="/./assets/image-20250812165008238.png" alt="image-20250812165008238"></p>
<blockquote>
<p>创建一个centos镜像</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@orion-24:/home# ls</span><br><span class="line">docker-test-volume  mysql  orion  test_file  test.java</span><br><span class="line">root@orion-24:/home# mkdir dockerfie</span><br><span class="line">root@orion-24:/home# ls</span><br><span class="line">dockerfie  docker-test-volume  mysql  orion  test_file  test.java</span><br><span class="line">root@orion-24:/home# cd dockerfie/</span><br><span class="line">root@orion-24:/home/dockerfie# ls</span><br><span class="line">root@orion-24:/home/dockerfie# vim mydockerfile-centos    #使用vim编辑器写Dockerfile代码脚本</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Dockerfile代码构建脚本</span></span><br><span class="line">FROM centos:7FROM centos:7</span><br><span class="line">LABEL maintainer=&quot;orion&lt;1234567890@qq.com&gt;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更换yum源为阿里云（解决官方源失效问题）</span></span><br><span class="line">RUN rm -f /etc/yum.repos.d/*.repo &amp;&amp; \</span><br><span class="line">   curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo &amp;&amp; \</span><br><span class="line">   yum clean all &amp;&amp; \</span><br><span class="line">   yum makecache</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装所需软件</span></span><br><span class="line">RUN yum -y install vim &amp;&amp; \</span><br><span class="line">    yum -y install net-tools</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置工作目录（注意修正拼写错误，原先是usr/loca1，应该是usr/local）</span></span><br><span class="line">WORKDIR /usr/local</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确保只有一个CMD指令（修复多个CMD的警告）</span></span><br><span class="line">CMD [&quot;/bin/bash&quot;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@orion-24:/home/dockerfie# docker build -f mydockerfile-centos -t mycentos:0.1 .</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以下是构建镜像的过程</span></span><br><span class="line">[+] Building 71.5s (8/8) FINISHED                                            docker:default</span><br><span class="line"> =&gt; [internal] load build definition from mydockerfile-centos                          0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 628B                                                   0.0s</span><br><span class="line"> =&gt; [internal] load metadata for docker.io/library/centos:7                            0.0s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                      0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 2B                                                        0.0s</span><br><span class="line"> =&gt; CACHED [1/4] FROM docker.io/library/centos:7                                       0.0s</span><br><span class="line"> =&gt; [2/4] RUN rm -f /etc/yum.repos.d/*.repo &amp;&amp;     curl -o /etc/yum.repos.d/CentOS-B  53.4s</span><br><span class="line"> =&gt; [3/4] RUN yum -y install vim &amp;&amp;     yum -y install net-tools                      16.7s </span><br><span class="line"> =&gt; [4/4] WORKDIR /usr/local                                                           0.0s </span><br><span class="line"> =&gt; exporting to image                                                                 1.3s </span><br><span class="line"> =&gt; =&gt; exporting layers                                                                1.2s </span><br><span class="line"> =&gt; =&gt; writing image sha256:632393a236b3603bb79541043b41c6da6758e0e35338e07f0e1d4256b  0.0s</span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/mycentos:0.1                                        0.0s </span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;&#x3D;&gt; &#x3D;&gt; writing image sha256:632393a236b3603bb79541043b41c6da6758e0e35338e07f0e1d4256b&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;&#x3D;&gt; &#x3D;&gt; naming to docker.io&#x2F;library&#x2F;mycentos:0.1&#x3D;&#x3D;</p>
<p><img src="/./assets/image-20250812175839913.png" alt="image-20250812175839913"></p>
<p><img src="/./assets/image-20250812175901405.png" alt="image-20250812175901405"></p>
<p><img src="/./assets/image-20250812175929017.png" alt="image-20250812175929017"></p>
<blockquote>
<p>CMD 和  ENTRYPOINT 区别</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CMD                                #指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代</span><br><span class="line">ENTRYPOINT                         #指定这个容器启动的时候要运行的命令，可以追加命令</span><br></pre></td></tr></table></figure>

<p>测试cmd</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用vim编写dockerfile文件</span></span><br><span class="line">root@orion-24:/home/dockerfie# vim dockerfile-cmd-test</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">dockefile-cmd-test脚本</span></span><br><span class="line">------------------------------------------------------------------------------------------</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">基于 Ubuntu 镜像构建，这里使用的是最新版的 Ubuntu，你也可以指定具体版本，如 ubuntu:22.04</span></span><br><span class="line">FROM ubuntu </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新软件源并安装必要的工具，这里安装 bash 是确保可以正常执行 shell 命令</span></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置容器启动时执行的默认命令，列出当前目录下所有文件（包括隐藏文件）</span></span><br><span class="line">CMD [&quot;ls&quot;, &quot;-a&quot;]</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">构建dockerfile文件</span></span><br><span class="line">root@orion-24:/home/dockerfie# docker build -f dockerfile-cmd-test -t cmdtest .</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看构建好的镜像，run 运行 ，发现我们的<span class="built_in">ls</span> -a 命令生效</span></span><br><span class="line">root@orion-24:/home/dockerfie# docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED         SIZE                                    </span><br><span class="line">cmdtest                  latest    c9a38d3f46bb   2 minutes ago   130MB</span><br><span class="line">mycentos                 0.1       632393a236b3   5 days ago      1.01GB</span><br><span class="line">redis                    latest    2f21f6e6fe03   13 days ago     157MB</span><br><span class="line">nginx                    latest    2cd1d97f893f   4 weeks ago     192MB</span><br><span class="line">tomcat                   latest    ea4b111d0b40   6 weeks ago     476MB</span><br><span class="line">portainer/portainer-ce   latest    71de3839351a   6 weeks ago     268MB</span><br><span class="line">mysql                    8.0.42    7d4e34ccfad4   4 months ago    772MB</span><br><span class="line">hello-world              latest    74cc54e27dc4   6 months ago    10.1kB</span><br><span class="line">centos                   7         eeb6ee3f44bd   3 years ago     204MB</span><br><span class="line">orion/centos             1.0       0de17e3319da   3 years ago     204MB</span><br><span class="line">root@orion-24:/home/dockerfie# docker run c9a38d3f46bb </span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">boot</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">lib64</span><br><span class="line">media</span><br><span class="line">mnt</span><br><span class="line">opt</span><br><span class="line">proc</span><br><span class="line">root</span><br><span class="line">run</span><br><span class="line">sbin</span><br><span class="line">srv</span><br><span class="line">sys</span><br><span class="line">tmp</span><br><span class="line">usr</span><br><span class="line">var</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">想追加一个命令 -l   <span class="built_in">ls</span> -al</span> </span><br><span class="line">root@orion-24:/home/dockerfie# docker run c9a38d3f46bb -l</span><br><span class="line">docker: Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: exec: &quot;-l&quot;: executable file not found in $PATH: unknown</span><br><span class="line"></span><br><span class="line">Run &#x27;docker run --help&#x27; for more information</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cmd的清理下 -l 替换了CMD[<span class="string">&quot;ls&quot;</span>,<span class="string">&quot;-a&quot;</span>],命令， -l 不是命令所以报错！</span></span><br></pre></td></tr></table></figure>



<p>测试ENTRYPOINT</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@orion-24:/home/dockerfie# vim dockerfile-cmd-entrypoint </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">dockefile-cmd-entrypoint 脚本</span></span><br><span class="line"></span><br><span class="line">FROM ubuntu</span><br><span class="line">ENTRYPOINT [&quot;ls&quot;, &quot;-a&quot;]xxxxxxxxxx FROM ubuntuENTRYPOINT [&quot;ls&quot;, &quot;-a&quot;]root@orion-24:/home/dockerfie# vim dockerfile-cmd-entrypoint </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">root@orion-24:/home/dockerfie# docker build -f dockerfile-cmd-entrypoint -t entorypoint-test .</span><br><span class="line">[+] Building 23.9s (5/5) FINISHED                                                          docker:default</span><br><span class="line"> =&gt; [internal] load build definition from dockerfile-cmd-entrypoint                                  0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 87B                                                                  0.0s</span><br><span class="line"> =&gt; [internal] load metadata for docker.io/library/ubuntu:latest                                    23.9s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                                    0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 2B                                                                      0.0s</span><br><span class="line"> =&gt; CACHED [1/1] FROM docker.io/library/ubuntu:latest@sha256:7c06e91f61fa88c08cc74f7e1b7c69ae24910d  0.0s</span><br><span class="line"> =&gt; exporting to image                                                                               0.0s</span><br><span class="line"> =&gt; =&gt; exporting layers                                                                              0.0s</span><br><span class="line"> =&gt; =&gt; writing image sha256:a36dcddbccbbb2de09d6627856f4b7b5314fbc0c946850b7fc8132c7f2aa63c3         0.0s</span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/entorypoint-test                                                  0.0s</span><br><span class="line">root@orion-24:/home/dockerfie# docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED          SIZE</span><br><span class="line">cmdtest                  latest    c9a38d3f46bb   34 minutes ago   130MB</span><br><span class="line">mycentos                 0.1       632393a236b3   5 days ago       1.01GB</span><br><span class="line">redis                    latest    2f21f6e6fe03   13 days ago      157MB</span><br><span class="line">entorypoint-test         latest    a36dcddbccbb   2 weeks ago      78.1MB</span><br><span class="line">nginx                    latest    2cd1d97f893f   4 weeks ago      192MB</span><br><span class="line">tomcat                   latest    ea4b111d0b40   6 weeks ago      476MB</span><br><span class="line">portainer/portainer-ce   latest    71de3839351a   6 weeks ago      268MB</span><br><span class="line">mysql                    8.0.42    7d4e34ccfad4   4 months ago     772MB</span><br><span class="line">hello-world              latest    74cc54e27dc4   6 months ago     10.1kB</span><br><span class="line">centos                   7         eeb6ee3f44bd   3 years ago      204MB</span><br><span class="line">orion/centos             1.0       0de17e3319da   3 years ago      204MB</span><br><span class="line">root@orion-24:/home/dockerfie# docker run a36dcddbccbb </span><br><span class="line">.</span><br><span class="line">..</span><br><span class="line">.dockerenv</span><br><span class="line">bin</span><br><span class="line">boot</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">home</span><br><span class="line">lib</span><br><span class="line">lib64</span><br><span class="line">media</span><br><span class="line">mnt</span><br><span class="line">opt</span><br><span class="line">proc</span><br><span class="line">root</span><br><span class="line">run</span><br><span class="line">sbin</span><br><span class="line">srv</span><br><span class="line">sys</span><br><span class="line">tmp</span><br><span class="line">usr</span><br><span class="line">var</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">追加命令是直接拼接在我们的 ENTRYPOINT 命令后面的！</span></span><br><span class="line">root@orion-24:/home/dockerfie# docker run a36dcddbccbb -l</span><br><span class="line">total 56</span><br><span class="line">drwxr-xr-x   1 root root 4096 Aug 18 02:57 .</span><br><span class="line">drwxr-xr-x   1 root root 4096 Aug 18 02:57 ..</span><br><span class="line">-rwxr-xr-x   1 root root    0 Aug 18 02:57 .dockerenv</span><br><span class="line">lrwxrwxrwx   1 root root    7 Apr 22  2024 bin -&gt; usr/bin</span><br><span class="line">drwxr-xr-x   2 root root 4096 Apr 22  2024 boot</span><br><span class="line">drwxr-xr-x   5 root root  340 Aug 18 02:57 dev</span><br><span class="line">drwxr-xr-x   1 root root 4096 Aug 18 02:57 etc</span><br><span class="line">drwxr-xr-x   3 root root 4096 Jul 30 02:19 home</span><br><span class="line">lrwxrwxrwx   1 root root    7 Apr 22  2024 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx   1 root root    9 Apr 22  2024 lib64 -&gt; usr/lib64</span><br><span class="line">drwxr-xr-x   2 root root 4096 Jul 30 02:11 media</span><br><span class="line">drwxr-xr-x   2 root root 4096 Jul 30 02:11 mnt</span><br><span class="line">drwxr-xr-x   2 root root 4096 Jul 30 02:11 opt</span><br><span class="line">dr-xr-xr-x 423 root root    0 Aug 18 02:57 proc</span><br><span class="line">drwx------   2 root root 4096 Jul 30 02:19 root</span><br><span class="line">drwxr-xr-x   4 root root 4096 Jul 30 02:19 run</span><br><span class="line">lrwxrwxrwx   1 root root    8 Apr 22  2024 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x   2 root root 4096 Jul 30 02:11 srv</span><br><span class="line">dr-xr-xr-x  13 root root    0 Aug 18 02:40 sys</span><br><span class="line">drwxrwxrwt   2 root root 4096 Jul 30 02:19 tmp</span><br><span class="line">drwxr-xr-x  12 root root 4096 Jul 30 02:11 usr</span><br><span class="line">drwxr-xr-x  11 root root 4096 Jul 30 02:19 var</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Docker网络"><a href="#Docker网络" class="headerlink" title="Docker网络"></a>Docker网络</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://ruixue1224.github.io">瑞雪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://ruixue1224.github.io/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/">https://ruixue1224.github.io/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://ruixue1224.github.io" target="_blank">瑞雪のblog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/docker/">docker</a></div><div class="post-share"><div class="social-share" data-image="/img/archive_bg.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/06/04/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/" title="Java学习路线"><img class="cover" src="/img/tag_bg.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Java学习路线</div></div><div class="info-2"><div class="info-item-1">Java后端的学习路线注：原创来自于晋中信息学院双体软件精英产业学院，本人二次修改并非原创 第一部分：java基础 JavaSE  https://www.bilibili.com/video/BV1Rx411876f/?vd_source=205b9aa791a13bdcc9e04b9d7d1e0544  MySQL  ​	https://www.bilibili.com/video/BV1Vy4y1z7EX  JDBC  https://www.bilibili.com/video/BV1Bt41137iB 完成后写一个飞机大战大作业 飞机大战​       ...</div></div></div></a><a class="pagination-related" href="/2026/01/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%BF%9B%E9%98%B6/" title="计算机技术学习之路：从入门到进阶"><img class="cover" src="/img/friends_img.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">计算机技术学习之路：从入门到进阶</div></div><div class="info-2"><div class="info-item-1"> 计算机技术学习之路：从入门到进阶  回望计算机技术的学习之路，每一步成长都离不开良师益友的陪伴与指引，而那些始终坚守初心、以恒心深耕的前行者，更是我前行路上的榜样。入门时，导师们拆解晦涩概念、搭建知识框架；遇困时，益友们并肩研讨、互补短板。行业前辈的深耕韧劲、开源爱好者的默默坚守，都在时刻激励我：技术成就从无捷径，唯有日积月累的坚持。 尤为幸运的是，我恰逢人工智能飞速发展的时代，这股科技浪潮为入门之路铺就了便利，让我得以顺利叩开技术大门。初学阶段，抽象的编程逻辑与庞杂文档曾让我困惑，而 AI 工具恰好破解了困境：ChatGPT 等大模型可随时解惑，用通俗语言拆解原理、演示代码；AI...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">瑞雪</div><div class="author-info-description">悟已往之不谏，知来者犹可追</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">docker学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85%EF%BC%88%E5%9F%BA%E4%BA%8EUbuntu24-04-2LTS%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">docker安装（基于Ubuntu24.04.2LTS）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%BD%A9%E8%BE%95%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE-Docker"><span class="toc-number">1.1.1.</span> <span class="toc-text">使用轩辕镜像配置 Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9B%B4%E6%96%B0%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%B9%B6%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">1. 更新软件包并安装必要软件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E8%BD%A9%E8%BE%95%E9%95%9C%E5%83%8F%E7%9A%84-GPG-%E5%AF%86%E9%92%A5"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">2. 导入轩辕镜像的 GPG 密钥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%B7%BB%E5%8A%A0%E8%BD%A9%E8%BE%95%E9%95%9C%E5%83%8F%E7%9A%84-Docker-%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">3. 添加轩辕镜像的 Docker 仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%9B%B4%E6%96%B0%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%88%97%E8%A1%A8"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">4. 更新软件包列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%AE%89%E8%A3%85-Docker"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">5. 安装 Docker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E9%85%8D%E7%BD%AE-Docker-%E4%BD%BF%E7%94%A8%E8%BD%A9%E8%BE%95%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="toc-number">1.1.1.6.</span> <span class="toc-text">6. 配置 Docker 使用轩辕镜像加速</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E9%87%8D%E5%90%AF-Docker-%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.1.7.</span> <span class="toc-text">7. 重启 Docker 服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.8.</span> <span class="toc-text">8. 验证配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.1.2.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90"><span class="toc-number">1.1.3.</span> <span class="toc-text">参考资源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">docker基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.1.</span> <span class="toc-text">docker常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">常用其他命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.2.3.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E9%95%9C%E5%83%8F%E7%90%86%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">Docker镜像理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.3.1.</span> <span class="toc-text">镜像是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.2.</span> <span class="toc-text">Docker镜像加载原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker%E5%88%86%E5%B1%82%E7%90%86%E8%A7%A3"><span class="toc-number">1.3.3.</span> <span class="toc-text">Docker分层理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Commit%E9%95%9C%E5%83%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">Commit镜像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">1.4.</span> <span class="toc-text">容器数据卷</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7%EF%BC%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text">为什么需要容器数据卷？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7%E4%B8%8E%E7%BB%91%E5%AE%9A%E6%8C%82%E8%BD%BD%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.2.</span> <span class="toc-text">数据卷与绑定挂载的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="toc-number">1.4.3.</span> <span class="toc-text">使用数据卷</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E8%AF%86Dockerfile"><span class="toc-number">2.0.1.</span> <span class="toc-text">初识Dockerfile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%AE%B9%E5%99%A8"><span class="toc-number">2.0.2.</span> <span class="toc-text">数据卷容器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dockerfile"><span class="toc-number">2.1.</span> <span class="toc-text">Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.1.</span> <span class="toc-text">Dockerfile介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B"><span class="toc-number">2.1.2.</span> <span class="toc-text">Dockerfile构建过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.3.</span> <span class="toc-text">Dockerfile的指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F"><span class="toc-number">2.1.4.</span> <span class="toc-text">构建镜像</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E7%BD%91%E7%BB%9C"><span class="toc-number">2.2.</span> <span class="toc-text">Docker网络</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%BF%9B%E9%98%B6/" title="计算机技术学习之路：从入门到进阶"><img src="/img/friends_img.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机技术学习之路：从入门到进阶"/></a><div class="content"><a class="title" href="/2026/01/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%BF%9B%E9%98%B6/" title="计算机技术学习之路：从入门到进阶">计算机技术学习之路：从入门到进阶</a><time datetime="2026-01-05T13:28:00.000Z" title="发表于 2026-01-05 21:28:00">2026-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/" title="docker学习笔记"><img src="/img/archive_bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker学习笔记"/></a><div class="content"><a class="title" href="/2025/08/05/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/" title="docker学习笔记">docker学习笔记</a><time datetime="2025-08-05T10:21:00.000Z" title="发表于 2025-08-05 18:21:00">2025-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/04/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/" title="Java学习路线"><img src="/img/tag_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java学习路线"/></a><div class="content"><a class="title" href="/2025/06/04/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/" title="Java学习路线">Java学习路线</a><time datetime="2025-06-03T16:00:00.000Z" title="发表于 2025-06-04 00:00:00">2025-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/07/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/" title="网络基础笔记"><img src="/img/default_bg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络基础笔记"/></a><div class="content"><a class="title" href="/2025/05/07/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/" title="网络基础笔记">网络基础笔记</a><time datetime="2025-05-07T15:11:57.125Z" title="发表于 2025-05-07 23:11:57">2025-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/01/hello-world/" title="Hello World"><img src="/img/friends_img.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2025/01/01/hello-world/" title="Hello World">Hello World</a><time datetime="2024-12-31T16:00:00.000Z" title="发表于 2025-01-01 00:00:00">2025-01-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/archive_bg.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By 瑞雪</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><div class="snow-container"></div><script src="/js/snowy.js"></script><script src="/js/day-night-transition.js"></script><script src="/js/video-background.js"></script><script src="/js/category-bg-fix.js"></script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="请输入关键词搜索..." type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>